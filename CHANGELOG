# Changelog

All notable changes to this project will be documented in this file.

---

## [Unreleased] – January 21, 2026

### Added
- **Enhanced Publications Page** (`/publications`)
  - Comprehensive publications library powered by Zotero API integration
  - Beautiful, responsive grid layout with smooth animations and transitions
  - **Advanced Search & Filtering Features**:
    - Real-time search by title, authors, and keywords with debounce optimization
    - Filter by publication type (Journal Article, Conference Paper, Report, Book, Thesis, Dataset)
    - Sort by date, title, or author with ascending/descending toggle
    - Clear filters functionality for quick reset
  - **Theme Support**:
    - Full light mode and dark mode compatibility
    - Gradient backgrounds and smooth color transitions
    - Theme-aware card styling with dark mode optimizations
  - **Rich Publication Cards**:
    - Publication type badge with emoji icons
    - Author list (truncated with "+X more" indicator)
    - Publication metadata (date, journal/publication title)
    - Abstract preview with read more capability
    - Tags and categories display
    - Direct links to DOI and full publications
    - External link icons for quick access
  - **Performance & UX Improvements**:
    - Infinite scroll pagination with automatic loading
    - Skeleton card loading animation for perceived performance
    - Smooth fade-in and slide-up animations for cards
    - Result count display showing total publications
    - Empty state messaging
    - Error handling with user-friendly messages
  - **New Components Created**:
    - `src/pages/publications/index.js` - Main publications page with search/filter logic
    - `src/components/Publications/PublicationCard.js` - Individual publication card component
    - `src/components/Publications/SkeletonCard.js` - Loading placeholder component
    - `src/pages/publications/Publications.module.css` - Page-level styling with animations
    - `src/components/Publications/PublicationCard.module.css` - Card styling with hover effects and gradients
    - `src/components/Publications/SkeletonCard.module.css` - Skeleton loading animation styles

### Changed
- **Navbar dropdown styling**
  - Fixed navbar dropdown menus to have opaque backgrounds instead of transparent
  - Light mode: Dropdowns now use white background (`#ffffff`)
  - Dark mode: Dropdowns now use solid gray-blue background (`#2d3748`)
  - Updated `src/css/navbar-auth.css` with `!important` flags to override theme transparency settings
  - Updated `src/css/custom.css` to add CSS variables for dropdown backgrounds and force `.navbar .dropdown__menu` styling globally
  - Fixes GitHub auth dropdown and all Docusaurus navbar dropdowns to be properly visible and readable in both themes
- **Community Products page (src/pages/community_products/index.js)**
  - Fixed Tethys logo display to use Docusaurus `useColorMode()` hook correctly within ColorModeProvider context
  - Added `TethysLogo` component to handle theme-aware logo switching
  - Light mode: Displays black Tethys logo
  - Dark mode: Displays white Tethys logo on blue background
  - Prevents `useColorMode` hook errors by properly nesting hook calls inside Layout component
  - **Added URL anchor navigation for tab switching**
    - Implemented state-based tab management with URL hash synchronization
    - Tabs can now be opened directly via URL anchors:
      - `/community-products#apps` → Opens Apps tab
      - `/community-products#courses` → Opens Courses tab
      - `/community-products#presentations` → Opens Presentations tab
      - `/community-products#datasets` → Opens Datasets tab
    - Tab changes automatically update the URL hash for shareable direct links

---

## [Unreleased] – January 20, 2026

### Added
- **Publications page** (`/publications`)
  - New documentation section for CIROH research articles, reports, and citation resources.
  - Includes placeholder intro page with space for future design and content.
  - Integrated into sidebar navigation with autogenerated structure.

### Changed
- **Navbar restructured with dropdown menus**
  - **About CIROH** dropdown (left): Policies, Working Groups
  - **Research & Innovation** dropdown (left): Publications (first), Softwares, Services, Community Products
  - **Community & Collaboration** dropdown (left): Community Impact, Contribute
  - **Blog** (right): Standalone item
  - **News** (right): Standalone item
- **Rebranding from "CIROH DocuHub" and "DocuHub" to "CIROH Hub"**
  - Updated all instances of "CIROH DocuHub" and "DocuHub" to "CIROH Hub" throughout the project for consistent branding.
  - Changes were made in the following files:
    - **Configuration**: `docusaurus.config.js` (site title, announcement bar text)
    - **Main Pages**: `src/pages/index.js`, `src/pages/contact.mdx`, `src/pages/feedback.mdx`, `src/pages/contribute/index.js`
    - **Components**: `src/components/HomepageFeatures/index.js`, `src/components/HomepageFeatures/cardGrid.js`, `src/components/HomepageFeatures/testimonial.js`, `src/components/HomepageFeatures/teamMembers.js`
    - **Data Files**: `src/data/nextgen-news.json`, `src/pages/working-groups/workingGroupsData.js`
    - **Documentation**: `README.md`, `GITHUB_LOGIN_FLOW.md`, `release-notes-template.mdx`, `static/img/blog/authors/readme.txt`, `src/pages/community_products/RESOURCES_PAGE_DOCUMENTATION.md`
    - **Release Notes**: All release note files from April 2025 to November 2025 (14 files total: `2025-04-08-release-notes.mdx`, `2025-05-05-release-notes.mdx`, `2025-05-16-release-notes.mdx`, `2025-05-22-release-notes.mdx`, `2025-05-27-release-notes.mdx`, `2025-06-04-release-notes.mdx`, `2025-06-11-release-notes.mdx`, `2025-07-01-release-notes.mdx`, `2025-07-24-release-notes.mdx`, `2025-08-01-release-notes.mdx`, `2025-08-29-release-notes.mdx`, `2025-09-12-release-notes.mdx`, `2025-10-01-release-notes.mdx`, `2025-11-03-release-notes.mdx`)
    - **Blog Posts**: `blog/2024-1-31-NextGen-Update-Monthly.mdx`, `blog/2024-2-29-NextGen-Update-Monthly.mdx`, `blog/2025-06-04-DevCon25-Keynote.mdx`
    - **Test Files**: `Tests/test.html`, `Tests/test2.html`, `Tests/test5.html`, `Tests/newsTest.html`, `Tests/cards_test.html`
  - Updated testimonials to reference "CIROH Hub" instead of "DocuHub"
  - Survey links and announcements now reference "CIROH Hub/Portal" instead of "DocuHub/Portal"
  - Team page now titled "Meet CIROH Hub Team" instead of "Meet DocuHub Team"
- **Navbar update**: Changed "Products" to "Softwares" in the main navigation bar (`docusaurus.config.js`)
- **Admin page UI cleanup**: Commented out the following sections in the admin dashboard (`src/pages/admin/index.jsx`):
  - **Add Service** quick action card (pink card)
  - **View Analytics** quick action card (emerald card)
  - **Analytics Overview** section (entire section including stats grid with metrics like Total Software, Blog Posts, Active Services, Total Users, and the Performance Metrics chart)

---

## [Unreleased] – January 19, 2026

### Added
- **Working Groups page** (`/working-groups`)
  - New dedicated page showcasing all 8 CIROH Working Groups with full descriptions, objectives, and leadership information.
  - Includes Flood Inundation Mapping, Decision Support, Hydrologic Modeling & Prediction, Hydroinformatics, Early Career, Community Resources, Artificial Intelligence, and Model & Forecast Evaluation working groups.
  - Features a real-time search/filter functionality to discover working groups by name, objective, or keyword.
  - Full light/dark theme support with glassmorphic UI and smooth animations.
  - Responsive grid layout (1 column on mobile, 2 columns on desktop).
  - Animated hero section with floating gradient orbs and scroll-triggered card reveals using GSAP.
- **Working Groups navbar item** added to main navigation under the left menu items (between "Community Products" and "Community Impact").

### Changed
- Updated navbar structure to include the new Working Groups section, improving navigation discoverability.

---

## [Unreleased] – January 13, 2026

### Added
- **Admin contribution workflows (GitHub Issues)**
  - Added `/admin/add-product` to submit a structured Product request as a GitHub Issue.
  - Added `/admin/add-blog` to submit a structured Blog request as a GitHub Issue.
  - Both flows return issue metadata and show a **View on GitHub** button on the success screen (with a safe fallback to the repo issues list).
- **Admin DotGrid animated background** behind the admin dashboard and request forms.
- **Navbar GitHub auth UI**
  - Replaced the basic Login UX with a **Login with GitHub** button.
  - When signed in, shows avatar + dropdown actions (Admin Panel, Logout).

### Changed
- **Admin theming** updated to match the home page dark theme palette (dark surfaces with cyan/teal accents).
- **Admin dashboard quick action cards** now use distinct accent colors for easier scanning.
- **Issue labeling behavior**
  - Product requests attempt to apply the `enhancement` label.
  - Blog requests attempt to apply the `blog` label.
  - Label application is enforced deterministically (ensure label exists, then set labels), and the UI surfaces whether label application succeeded.
- Removed the independent floating Logout overlay UI in favor of the navbar auth dropdown.

### Fixed
- Fixed DotGrid background stability issues (including ResizeObserver loop warnings).
- Fixed Docusaurus navbar custom item wiring so the GitHub auth item reliably renders.

---

## [Unreleased] – January 9, 2026

### Added
- **GitHub OAuth Login – Proof of Concept (POC)**  
  - Added an initial GitHub OAuth login implementation as a **POC**.
  - This feature is **incomplete**, **not production-ready**, and requires further development, testing, and security hardening.
  - Intended only to validate feasibility and integration flow.
- **CI/CD deployment notes** indicating that `npm install` must be run before:
  - Running the application locally.
  - Deploying via any CI/CD pipeline, due to multiple new dependencies.
- **API runtime documentation**:
  - The API server is currently running on **port `3001`**.
  - Future changes will explore removing the need for a separate API port (if feasible) to avoid major CI/CD or infrastructure changes.
- **Branch status documentation**:
  - This branch is currently **not in sync with `main`**.
  - Alignment with `main` will be taken up as a follow-up task.

### Changed
- **OAuth/API hardening and configurability (dev + production)**
  - `server.js` now sets production-safe cookie defaults (`HttpOnly` token cookie, `Secure` in production, `SameSite=Lax`).
  - GitHub API calls now include required headers (notably `User-Agent`) and return richer error details to help diagnose 403s (scopes/accepted scopes).
  - New environment variables:
    - `FRONTEND_URL` (default `http://localhost:3000`)
    - `GITHUB_REPO` (default `CIROH-UA/ciroh-ua_website`)
    - `GITHUB_OAUTH_SCOPE` (default `public_repo`; use `repo` if the target repo is private)
    - `GITHUB_AUTH_SCHEME` (default `token`; can be set to `Bearer` if needed)
    - `ASSIGN_ISSUE_TO_AUTHOR` (optional) — if `true`, the server will attempt to assign the created issue to the logged-in user.
      - Note: assignment may fail depending on repo permissions; the server will still attempt issue creation.
    - `ALLOW_CLIENT_TOKEN` (DEV ONLY) — if set to `true`, makes the `access_token` cookie readable by JS for local debugging.
      - IMPORTANT: Do not enable `ALLOW_CLIENT_TOKEN` in production.

- **Admin UI refresh + session UX**
  - Admin page (`/admin`) now matches the new Tailwind-based dashboard design and shows the signed-in GitHub user's name and avatar.
  - Added `/api/me` to fetch the signed-in GitHub user profile (used by admin header and site-wide auth UI).
  - Added `/api/logout` to clear auth cookies.
  - Added a site-wide Logout button overlay that appears only when signed in.

### Notes
- No UI/UX changes were introduced in this update.
- This entry primarily documents authentication POC work, infrastructure, deployment, and workflow considerations.

---

## [Unreleased] – December 19, 2024

### Added
- **Tailwind CSS integration** using PostCSS and Autoprefixer.
- `postcss.config.js` and `tailwind.config.js` with dark mode support and preflight disabled.
- Global `tailwind.css` with Tailwind directives.
- **MagicBento** component with dynamic particle effects.
- **GlobalSpotlight** for enhanced card hover and interaction effects.
- **CardGridSection** with particle background, orbit animations, numbered cards, and CTA support.
- **CardCarousel** with smooth transitions, hover effects, navigation arrows, and pagination dots.
- **CloudInfraDashboard** featuring floating particles, animated counters, magnetic hover effects, and responsive layout.
- **HighlightCards** with water-fill animations, bubbles, and hover effects.
- **ScrollStack** component for stacked scroll-based card animations.
- New **LinkedIn icons** (`linkedin_blue.svg`, `linkedin_white.png`).
- Enhanced **TeamMembers** section with redesigned profile cards, LinkedIn buttons, and dark/light mode compatibility.
- Improved **ResearcherTestimonials** section styling and layout.
- Multiple new **CSS animations** for hero banner, carousel, card grid, and highlight cards.
- Initial **HydroShare live data integration** (work in progress).
- Added and updated **CHANGELOG documentation**.

### Changed
- Updated `custom.css` to import Tailwind styles.
- Enhanced **theme detection logic** with a debounced observer for reliable dark/light mode switching.
- Improved **navbar and background styles** for dark mode consistency.
- Refactored **HomepageFeatures** to integrate `CardGridSection` and `CardCarousel`.
- Redesigned **Hero Banner** with gradient animations, floating water-drop effects, and responsive typography.
- Updated **Testimonials** section with improved layout and visuals.
- Redesigned **Contribute** and **Community Resources** banners with gradient backgrounds and dark mode support.
- Updated **TeamMembers** section UI and LinkedIn integration.
- Improved **accessibility** with better keyboard navigation and screen reader support.
- Enhanced responsiveness across mobile, tablet, and desktop for all new components.

### Fixed
- Resolved major **peer dependency issues**.
- Removed redundant glow and overlay effects in card grid tilt interactions.
- Fixed dark/light mode inconsistencies across interactive components.
- Addressed minor layout and animation glitches across browsers.

### Removed
- Removed legacy **Docusaurus dependency** from `package.json`.
- Deleted multiple outdated and unused files (large diffs confirmed via commit logs).
- Removed old carousel implementation in favor of the new **CardCarousel**.

### Notes
- HydroShare live data integration is still in progress.
- Large deleted diffs may not render fully in GitHub but are confirmed removed.
- Please run the app locally to experience the full scope of UI/UX changes.
